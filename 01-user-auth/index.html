


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="In this workshop, you learn how to build a serverless customer-facing microservices application demonstrating end-to-end authentication and authorization using Amazon Cognito, Amazon API Gateway, AWS Lambda, and all things AWS Identity and Access Management (IAM). You have the opportunity to build an end-to-end functional app with a secure identity provider showcasing user authentication patterns.">
      
      
        <link rel="canonical" href="https://serverless-idm.awssecworkshops.com/01-user-auth/">
      
      
        <meta name="author" content="aws-security-workshops@amazon.com">
      
      <link rel="shortcut icon" href="../assets/images/aws-favicon.ico">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.6">
    
    
      
        <title>Module 1: User flows - AWS Identity: Using Amazon Cognito for serverless consumer apps</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.63b94e9e.min.css">
      
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="../stylesheets/custom.css">
    
    
      
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#module-1-user-flows-configuration" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="https://serverless-idm.awssecworkshops.com/" title="AWS Identity: Using Amazon Cognito for serverless consumer apps" class="md-header-nav__button md-logo" aria-label="AWS Identity: Using Amazon Cognito for serverless consumer apps">
      
  <img src="../assets/images/aws_smile_logo.png" alt="logo">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            AWS Identity: Using Amazon Cognito for serverless consumer apps
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Module 1: User flows
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/aws-samples/amazon-cognito-identity-management-workshop/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    aws-samples/amazon-cognito-identity-management-workshop
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://serverless-idm.awssecworkshops.com/" title="AWS Identity: Using Amazon Cognito for serverless consumer apps" class="md-nav__button md-logo" aria-label="AWS Identity: Using Amazon Cognito for serverless consumer apps">
      
  <img src="../assets/images/aws_smile_logo.png" alt="logo">

    </a>
    AWS Identity: Using Amazon Cognito for serverless consumer apps
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/aws-samples/amazon-cognito-identity-management-workshop/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    aws-samples/amazon-cognito-identity-management-workshop
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../00-env-setup/" title="Module 0: Environment setup" class="md-nav__link">
      Module 0: Environment setup
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Module 1: User flows
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"/></svg>
        </span>
      </label>
    
    <a href="./" title="Module 1: User flows" class="md-nav__link md-nav__link--active">
      Module 1: User flows
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#architecture" class="md-nav__link">
    Architecture
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-a-cognito-user-pool" class="md-nav__link">
    Create a Cognito User Pool
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-a-cognito-identity-pool" class="md-nav__link">
    Create a Cognito Identity Pool
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#integrate-your-application-with-amazon-cognito" class="md-nav__link">
    Integrate your application with Amazon Cognito
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#validate-sign-up-and-sign-in" class="md-nav__link">
    Validate sign-up and sign-in
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#end-of-module-1" class="md-nav__link">
    End of Module 1
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#optional-extensions" class="md-nav__link">
    Optional extensions
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../02-backend-auth/" title="Module 2: Backend authorization" class="md-nav__link">
      Module 2: Backend authorization
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../03-iam-auth/" title="Module 3: Temporary AWS credentials" class="md-nav__link">
      Module 3: Temporary AWS credentials
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../04-clean-up/" title="Module 4: Clean up" class="md-nav__link">
      Module 4: Clean up
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../contribute/" title="Contributing" class="md-nav__link">
      Contributing
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../license/" title="License" class="md-nav__link">
      License
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#architecture" class="md-nav__link">
    Architecture
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-a-cognito-user-pool" class="md-nav__link">
    Create a Cognito User Pool
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-a-cognito-identity-pool" class="md-nav__link">
    Create a Cognito Identity Pool
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#integrate-your-application-with-amazon-cognito" class="md-nav__link">
    Integrate your application with Amazon Cognito
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#validate-sign-up-and-sign-in" class="md-nav__link">
    Validate sign-up and sign-in
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#end-of-module-1" class="md-nav__link">
    End of Module 1
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#optional-extensions" class="md-nav__link">
    Optional extensions
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/aws-samples/amazon-cognito-identity-management-workshop/edit/master/docs/01-user-auth.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <h1 id="module-1-user-flows-configuration">Module 1 <small>User flows configuration</small></h1>
<p><strong>Time</strong>: 40 minutes</p>
<p>In this module, you will create an Amazon Cognito User Pool and Identity Pool for the Wild Rydes application. The Cognito User Pool will store user profile information and provide sign-up and sign-in capabilities, with the Cognito Identity Pool providing the ability to assume an Identity and Access Management (IAM) role from within the application.</p>
<p>Since Wild Rydes is a ride sharing application, a key requirement is that all users must sign-up and sign-in before they're allowed to request a ride. You will configure the application to integrate with <a href="https://aws.amazon.com/cognito/" target="_blank">Amazon Cognito</a> for these purposes via the <a href="https://aws-amplify.github.io/" target="_blank">AWS Amplify</a> JavaScript library.</p>
<h2 id="architecture">Architecture</h2>
<p>For this module, we will be creating a Cognito User Pool as our secure user directory then configuring our application to use the AWS Amplify library to easily integrate Amazon Cognito into our application.  You will also configure a number of Lambda Triggers to further customize the user flows.  Below is a sequence diagram to show the interactions with the different components of this module.</p>
<p><img alt="Website architecture" src="../images/wildrydes-module1-architecture.png" /></p>
<h2 id="create-a-cognito-user-pool">Create a Cognito User Pool</h2>
<p>Amazon Cognito User Pools lets you add user sign-up and sign-in capabilities to your web and mobile apps quickly and easily. In this step, we'll create a Cognito user pool for our Wild Rydes app.</p>
<ol>
<li>
<p>Open the <a href="https://console.aws.amazon.com/cognito/home?" target="_blank">Amazon Cognito</a> console.</p>
</li>
<li>
<p>Choose <strong>Manage User Pools</strong>.</p>
</li>
<li>
<p>Choose <strong>Create a User Pool</strong> in the top right of the console.</p>
</li>
<li>
<p>Provide a name for your user pool such as <strong>WildRydes</strong>.</p>
</li>
<li>
<p>Choose <strong>Step through settings</strong> to configure our user pool options.</p>
<p><img alt="User Pool Setup Step 1" src="../images/cognito-userpool-setup-step1.png" /></p>
</li>
<li>
<p><strong>Attributes</strong>: Leave <strong>Username</strong> selected, but additionally select the following:</p>
<ul>
<li><em>Also allow sign in with verified email address</em></li>
<li><em>Also allow sign in with verified phone number</em></li>
</ul>
<p><img alt="User Pool Setup Step 2" src="../images/cognito-userpool-setup-step2.png" /></p>
</li>
<li>
<p><strong>Attributes</strong>: Add a custom attribute for <strong>genre</strong> that is mutable.  This attribute is to give the Unicorn an idea of the riders favorite music genre. Then choose <strong>Next step</strong>.</p>
<p><img alt="Custom attribute" src="../images/custom-attribute.png" /></p>
<div class="admonition info">
<p class="admonition-title">User Pool Attributes</p>
<p>Cognito User Pools have a standard set of attributes available for all users in the pool.  These are implemented following the <a href="https://openid.net/specs/openid-connect-core-1_0.html#StandardClaims" target="_blank">OpenID Connect specification</a>.  You can also optionally create up to 25 custom attributes to match any unique claims requirements you may have for your applications.</p>
</div>
</li>
<li>
<p><strong>Policies</strong>: Leave password policies and user sign up settings set to default settings and choose <strong>Next step</strong>.</p>
<!-- <img alt="User Pool Setup Step 3" src="./images/cognito-userpool-setup-step3.png" /> -->

</li>
<li>
<p><strong>MFA and verifications</strong>: Leave the default settings for MFA and email verification and choose <strong>Next step</strong>.</p>
</li>
<li>
<p><strong>Message customizations</strong>: Leave the default for message and SES defaults and choose <strong>Next step</strong>.</p>
</li>
<li>
<p><strong>Tags</strong>: Skip adding any tags and click <strong>Next step</strong>.</p>
</li>
<li>
<p><strong>Devices</strong>: Choose <strong>No</strong> to not remember your user's devices then click <strong>Next step</strong>.</p>
</li>
<li>
<p><strong>App clients</strong>: In the next screen, click the <strong>Add an app client</strong> <em>link</em>.</p>
</li>
<li>
<p><strong>App clients</strong>: Input <strong>wildrydes-web-app</strong> as the app client name.</p>
</li>
<li>
<p><strong>App clients</strong>: Uncheck the following:</p>
<ul>
<li><em>Set the expiration of the identity and access tokens to 45 minutes</em></li>
<li><em>Generate client secret</em></li>
<li><em>Enable SRP protocol based authentication</em>. </li>
</ul>
<div class="admonition info">
<p class="admonition-title">App client settings</p>
<p><strong>Token expiration customization</strong> - Each token expiration can be customized per your application design requirements.</p>
<p><strong>Client secrets</strong> - These are known only to your application and the authorization server. They are used for server-side applications authentication and are not needed for JavaScript applications.  They are also are not compatible with the Amplify JS SDK since it's a client library.</p>
<p><strong>Auth flows configuration</strong> - These authentication flows are all specific to the <a href="https://docs.aws.amazon.com/cognito/latest/developerguide/amazon-cognito-user-pools-authentication-flow.html" target="_blank">Amazon Cognito APIs</a>, <strong>not</strong> the OAuth flows made available through the hosted Cognito authorization server.</p>
</div>
<p><img alt="User Pool Setup Step 6" src="../images/cognito-userpool-setup-step6.png" /></p>
</li>
<li>
<p><strong>App clients</strong>: Choose <strong>Create app client</strong> and click <strong>Next step</strong>.</p>
</li>
<li>
<p><strong>Triggers</strong>: Leave all Lambda trigger settings set to <em>none</em> and choose <strong>Next step</strong>. </p>
<div class="admonition info">
<p class="admonition-title">Lambda Triggers</p>
<p>These trigger settings allow you to extend the out-of-the-box sign-up and sign-in flows with your own custom logic.  You can add authentication challenges, migrate users, and customize verification messages.  The optional extensions at the end of this module will walk through configuring a variety of Lambda triggers. </p>
</div>
</li>
<li>
<p>Review summary of all provided settings for accuracy then choose <strong>Create pool</strong>.</p>
</li>
</ol>
<div class="admonition note">
<p class="admonition-title">Copy to scratch pad</p>
<p>In the AWS Cognito console, copy your new <strong>User Pool Id</strong>: </p>
<p><img alt="Copy User Pool ID" src="../images/cognito-userpool-copy-userpool-id.png" /></p>
<p>And your <strong>App client ID</strong>:</p>
<p><img alt="Copy User Pool App Client ID" src="../images/cognito-userpool-copy-appclient-id.png" /></p>
</div>
<h2 id="create-a-cognito-identity-pool">Create a Cognito Identity Pool</h2>
<p>Cognito Identity Pools are used to provide AWS credentials via IAM roles to end-user applications. Since we'll be integrating our Cognito deployment and users with other AWS services, we'll go ahead and create this identity pool now.</p>
<p>You will need to create a Cognito Identity Pool linked to the Cognito User Pool and app client ID you just created. Your application will not require un-authenticated users to access any AWS resources, so you do not need to enable access to unauthenticated identities. </p>
<ol>
<li>
<p>In the Cognito console, choose <strong>Federated Identities</strong> in the header bar (top left) to switch to the console for Cognito Federated Identities.</p>
</li>
<li>
<p>Choose <strong>Create new Identity pool</strong>.</p>
</li>
<li>
<p>Input <strong>wildrydes_identity_pool</strong> as the Identity pool name.</p>
</li>
<li>
<p>Expand <strong>Authentication providers</strong>.</p>
</li>
<li>
<p>Within the Cognito tab, input the <strong>User Pool ID</strong> and <strong>App client ID</strong> you copied previously to the scratchpad tab.</p>
<p><img alt="Identity Pool Setup Step 1" src="../images/cognito-identitypool-setup-step1.png" /></p>
</li>
<li>
<p>Choose <strong>Create Pool</strong>.</p>
</li>
<li>
<p>Choose <strong>Allow</strong> to allow Cognito Identity Pools to setup IAM roles for your application's users. Permissions and settings of these roles can be customized later.</p>
<div class="admonition info">
<p class="admonition-title">Identity pools AWS IAM Roles</p>
<p>When you first configure a Cognito identity pool, it will automatically create two AWS IAM Roles on your behalf.  One for authenticated users and a second for unauthenticated users.  You can also optionally define rules to choose different roles for each user based on claims in the user's ID token.</p>
</div>
</li>
</ol>
<div class="admonition note">
<p class="admonition-title">Copy to scratch pad</p>
<p>Copy the identity pool ID to your scratch pad:</p>
<p><img alt="Copy Identity Pool Id to Cloud9 scratchpad" src="../images/cognito-identitypool-copyId.png" /></p>
<p>Your scratchpad should now have values for the following Cognito resources:</p>
<p><img alt="Cognito Setup IDs Scratchpad" src="../images/cognito-setup-scratchpad.png" /></p>
</div>
<h2 id="integrate-your-application-with-amazon-cognito">Integrate your application with Amazon Cognito</h2>
<p>Now that you've created and configured your Cognito User Pool and Identity Pool, you need to configure your application to integrate to Amazon Cognito so it can store user profiles and enable sign-up and sign-in.</p>
<p>You will import the <a href="https://aws-amplify.github.io/" target="_blank">AWS Amplify</a> JavaScript library into the project then add sign-up and sign-in utility classes to integrate with our existing UI and front-end components.</p>
<p>Before using any AWS Amplify modules, you first need to configure Amplify to use your newly created Cognito resources.</p>
<ol>
<li>
<p>Open <strong>/website/src/amplify-config.js</strong> in your Cloud9 IDE editor.</p>
</li>
<li>
<p>Copy the following parameter values from your previous scratchpad into the config value parameter placeholders under <strong>Auth</strong>:</p>
<ul>
<li><code>identityPoolId</code></li>
<li><code>region</code></li>
<li><code>userPoolId</code></li>
<li><code>userPoolWebClientId (App Client ID)</code></li>
</ul>
</li>
<li>
<p><strong>Save your changes</strong> to the Amplify config file so your new  settings take effect. </p>
<div class="admonition warning">
<p class="admonition-title">Unsaved changes</p>
<p>Any unsaved changes to a file are indicated by a dot icon in the tab of the editor so if you see a gray dot next to the file name, you may have forgotten to save.</p>
</div>
</li>
<li>
<p>Next, edit the <strong>website/src/index.js</strong> file to add the following lines to the <strong>top of the file</strong> <strong>(but below all the other imports)</strong> to configure Amplify then save your changes:</p>
</li>
</ol>
<div class="codehilite"><pre><span></span><code><span class="kr">import</span> <span class="nx">Amplify</span> <span class="nx">from</span> <span class="s1">&#39;aws-amplify&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">awsConfig</span> <span class="nx">from</span> <span class="s1">&#39;./amplify-config&#39;</span><span class="p">;</span>

<span class="nx">Amplify</span><span class="p">.</span><span class="nx">configure</span><span class="p">(</span><span class="nx">awsConfig</span><span class="p">);</span>
</code></pre></div>


<p>After making this changes, your imports should be in the following order:</p>
<p><img alt="Amplify imports order" src="../images/amplify-imports-order.png" /></p>
<p><strong>Save your changes</strong> to the <em>website/src/index.js</em> file.</p>
<p>Next, we need to ensure our application evaluates the user's authenticated state. </p>
<ol>
<li>In the same <strong>/website/src/index.js</strong> file, find and replace the <strong>isAuthenticated method</strong> with the code below to use our Amplify library's built-in user session to check this status.</li>
</ol>
<div class="codehilite"><pre><span></span><code><span class="kr">const</span> <span class="nx">isAuthenticated</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="nx">Amplify</span><span class="p">.</span><span class="nx">Auth</span><span class="p">.</span><span class="nx">user</span> <span class="o">!==</span> <span class="kc">null</span><span class="p">;</span>
</code></pre></div>


<p><strong>Save your changes</strong> to the <em>/website/src/index.js</em> file.</p>
<p>Now that we've imported Amplify and configured the Amplify library, we need to update our application's code to sign-up users using Amplify and Cognito User Pools by finding and replacing the following methods within the <strong>/website/src/auth/SignUp.js</strong> file with the following code.</p>
<div class="admonition tip">
<p class="admonition-title">Only replace the following two methods. The rest of the SignUp.js file should not be modified</p>
<p>The <strong>onSubmitForm</strong> method handles the event when the registration form is submitted. This calls the Auth.signUp method from the AWS Amplify library which registers the user with your Cognito User Pool.</p>
<p>The <strong>onSubmitVerification</strong> method handles the event when the verification code entry form is submitted after the initial registration request. This calls the Auth.confirmSignUp method from the AWS Amplify library which confirms the user registration within your Cognito User Pool.</p>
</div>
<div class="codehilite"><pre><span></span><code><span class="nx">async</span> <span class="nx">onSubmitForm</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
    <span class="k">try</span> <span class="p">{</span>
        <span class="kr">const</span> <span class="nx">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="nx">username</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">email</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/[@.]/g</span><span class="p">,</span> <span class="s1">&#39;|&#39;</span><span class="p">),</span>
            <span class="nx">password</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">password</span><span class="p">,</span>
            <span class="nx">attributes</span><span class="o">:</span> <span class="p">{</span>
                <span class="nx">email</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">email</span><span class="p">,</span>
                <span class="nx">phone_number</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">phone</span><span class="p">,</span>
                <span class="s1">&#39;custom:genre&#39;</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">genre</span>
            <span class="p">},</span>
            <span class="nx">validationData</span><span class="o">:</span> <span class="p">[]</span>
        <span class="p">};</span>
        <span class="kr">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">Auth</span><span class="p">.</span><span class="nx">signUp</span><span class="p">(</span><span class="nx">params</span><span class="p">);</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span> <span class="nx">stage</span><span class="o">:</span> <span class="mi">1</span> <span class="p">});</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">err</span> <span class="o">===</span> <span class="s2">&quot;No userPool&quot;</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// User pool not defined in Amplify config file</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s2">&quot;User Pool not defined&quot;</span><span class="p">);</span>
        <span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;User Pool not defined. Amplify config must be updated with user pool config&quot;</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">message</span> <span class="o">===</span> <span class="s2">&quot;User already exists&quot;</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Setting state to allow user to proceed to enter verification code</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span> <span class="nx">stage</span><span class="o">:</span> <span class="mi">1</span> <span class="p">});</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">message</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;phone number format&quot;</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span><span class="nx">err</span><span class="p">.</span><span class="nx">message</span> <span class="o">=</span> <span class="s2">&quot;Invalid phone number format. Must include country code. Example: +14252345678&quot;</span><span class="p">}</span>
        <span class="nx">alert</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">message</span><span class="p">);</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s2">&quot;Exception from Auth.signUp: &quot;</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span> <span class="nx">stage</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="nx">password</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="nx">confirm</span><span class="o">:</span> <span class="s1">&#39;&#39;</span> <span class="p">});</span>
    <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="nx">async</span> <span class="nx">onSubmitVerification</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
    <span class="k">try</span> <span class="p">{</span>
        <span class="kr">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">Auth</span><span class="p">.</span><span class="nx">confirmSignUp</span><span class="p">(</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">email</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/[@.]/g</span><span class="p">,</span> <span class="s1">&#39;|&#39;</span><span class="p">),</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">code</span>
        <span class="p">);</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
        <span class="c1">// Go to the sign in page</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">history</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="s1">&#39;/signin&#39;</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">alert</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">message</span><span class="p">);</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s2">&quot;Exception from Auth.confirmSignUp: &quot;</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>


<p><strong>Save your changes</strong> to the <em>/website/src/auth/SignUp.js</em> file.</p>
<p>You additionally need to integrate the sign-in capability to use AWS Amplify and Cognito by finding and replacing the following methods within the <strong>/website/src/auth/SignIn.js</strong> file with the code below.</p>
<div class="admonition tip">
<p class="admonition-title">You only need to the following two methods. The rest of the SignIn.js file should not be modified.</p>
<p>The <strong>onSubmitForm</strong> method initiates the signin request with your Cognito User Pool by invoking the Auth.signIn method from AWS Amplify then sets the local state appropriately to indicate the user has signed in successfully.</p>
<p>The <strong>onSubmitVerification</strong> method is used to submit a verification code whenever multi-factor authentication is required to authenticate. For this workshop, this method will not be invoked since you did not require multi-factor authentication earlier when configuring your Cognito User Pool.  </p>
</div>
<div class="codehilite"><pre><span></span><code><span class="nx">async</span> <span class="nx">onSubmitForm</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
    <span class="k">try</span> <span class="p">{</span>
        <span class="kr">const</span> <span class="nx">userObject</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">Auth</span><span class="p">.</span><span class="nx">signIn</span><span class="p">(</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">email</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/[@.]/g</span><span class="p">,</span> <span class="s1">&#39;|&#39;</span><span class="p">),</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">password</span>
        <span class="p">);</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;userObject&#39;</span><span class="p">,</span> <span class="nx">userObject</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">userObject</span><span class="p">.</span><span class="nx">challengeName</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// Auth challenges are pending prior to token issuance</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span> <span class="nx">userObject</span><span class="p">,</span> <span class="nx">stage</span><span class="o">:</span> <span class="mi">1</span> <span class="p">});</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="c1">// No remaining auth challenges need to be satisfied</span>
            <span class="kr">const</span> <span class="nx">session</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">Auth</span><span class="p">.</span><span class="nx">currentSession</span><span class="p">();</span>
            <span class="c1">// console.log(&#39;Cognito User Access Token:&#39;, session.getAccessToken().getJwtToken());</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Cognito User Identity Token:&#39;</span><span class="p">,</span> <span class="nx">session</span><span class="p">.</span><span class="nx">getIdToken</span><span class="p">().</span><span class="nx">getJwtToken</span><span class="p">());</span>
            <span class="c1">// console.log(&#39;Cognito User Refresh Token&#39;, session.getRefreshToken().getToken());</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span> <span class="nx">stage</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="nx">password</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="nx">code</span><span class="o">:</span> <span class="s1">&#39;&#39;</span> <span class="p">});</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">history</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="s1">&#39;/app&#39;</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">alert</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">message</span><span class="p">);</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s1">&#39;Auth.signIn(): &#39;</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="nx">async</span> <span class="nx">onSubmitVerification</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
    <span class="k">try</span> <span class="p">{</span>
        <span class="kr">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">Auth</span><span class="p">.</span><span class="nx">confirmSignIn</span><span class="p">(</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">userObject</span><span class="p">,</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">code</span>
        <span class="p">);</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Cognito User Data:&#39;</span><span class="p">,</span> <span class="nx">data</span><span class="p">);</span>
        <span class="kr">const</span> <span class="nx">session</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">Auth</span><span class="p">.</span><span class="nx">currentSession</span><span class="p">();</span>
        <span class="c1">// console.log(&#39;Cognito User Access Token:&#39;, session.getAccessToken().getJwtToken());</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Cognito User Identity Token:&#39;</span><span class="p">,</span> <span class="nx">session</span><span class="p">.</span><span class="nx">getIdToken</span><span class="p">().</span><span class="nx">getJwtToken</span><span class="p">());</span>
        <span class="c1">// console.log(&#39;Cognito User Refresh Token&#39;, session.getRefreshToken().getToken());</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span> <span class="nx">stage</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="nx">password</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="nx">code</span><span class="o">:</span> <span class="s1">&#39;&#39;</span> <span class="p">});</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">history</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="s1">&#39;/app&#39;</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">alert</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">message</span><span class="p">);</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s1">&#39;Auth.confirmSignIn(): &#39;</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>


<p><strong>Save your changes</strong> to the <em>/website/src/auth/SignIn.js</em> file.</p>
<h2 id="validate-sign-up-and-sign-in">Validate sign-up and sign-in</h2>
<p>Now that you have integrated our Amplify code into our application, you need to test the site to see that authentication is working end-to-end.</p>
<p>Return to your browser tab where you started your Wild Rydes application earlier after popping out from the Cloud9 IDE once in preview mode. This page automatically refreshes after you save any code changes so should now reflect all of your changes and be ready for testing.</p>
<ol>
<li>
<p>Click on the <strong>Apply</strong> link in the menu at the top right (or visit the <code>/register</code> path) of your Cloud9's website to go to the registration page.</p>
</li>
<li>
<p>Input the following: </p>
<ul>
<li><strong>e-mail address</strong> (needs to be a valid email address since you'll need to verify your account), </li>
<li><strong>phone number</strong> with <code>+country_code</code> first preceeding the number (use a sample phone number such as <code>+1234555010</code>)</li>
<li><strong>favorite genre</strong> (e.g. <code>jazz</code>, <code>blues</code>, <code>classical</code>, etc.)</li>
<li><strong>password</strong> twice (Your password must include 8 characters, including uppercase and lowercase characters, and at least 1 number and 1 special character.)</li>
</ul>
</li>
<li>
<p>Choose <strong>Let's Ryde</strong> to submit registration.</p>
</li>
<li>
<p>On the verify e-mail screen, enter the one-time code sent to your e-mail address provided then choose <strong>Verify</strong>.</p>
<div class="admonition tip">
<p class="admonition-title">Be sure to check your spam folder for the e-mail with your verification code if you do not see it in your inbox.</p>
</div>
</li>
<li>
<p>Assuming no errors were encountered, you will be redirected to the Sign-in screen. Now, re-enter the same e-mail address and password you chose at registration.</p>
</li>
<li>
<p>If the page then loads a map, sign-in was successful and you have successfully integrated Cognito for app authentication.</p>
</li>
<li>
<p>Scroll down beyond the map to copy your user's identity token and decode it by pasting it into the 'encoded' input box at <a href="http://jwt.io" target="_blank">JWT.io</a>. You will see all of your user's attributes are encoded within the token, along with other standard attributes such as the time the token was issued, the time the token expires, the user's unique ID, and more.</p>
</li>
</ol>
<h2 id="end-of-module-1">End of Module 1</h2>
<p>Once you have finished setting up the user authentication please wait for the instructions from the presenter to move on to the next module (unless you're running this on your own).</p>
<hr />
<h2 id="optional-extensions">Optional extensions</h2>
<p>If you've finished Module 1 early and would like to further customize the user sign up experience, feel free to run through any of the extensions below:</p>
<ul>
<li><strong>Extension 1</strong>: <a href="../01-user-auth-triggers/">Lambda triggers</a></li>
</ul>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../00-env-setup/" title="Module 0: Environment setup" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Module 0: Environment setup
              </div>
            </div>
          </a>
        
        
          <a href="../02-backend-auth/" title="Module 2: Backend authorization" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Module 2: Backend authorization
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            &copy; 2019, Amazon Web Services, Inc. or its affiliates. All rights reserved.
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
  <div class="md-footer-social">
    
      
      
        
        
      
      <a href="https://awssecworkshops.com" target="_blank" rel="noopener" title="awssecworkshops.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M280.37 148.26L96 300.11V464a16 16 0 0016 16l112.06-.29a16 16 0 0015.92-16V368a16 16 0 0116-16h64a16 16 0 0116 16v95.64a16 16 0 0016 16.05L464 480a16 16 0 0016-16V300L295.67 148.26a12.19 12.19 0 00-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 00-12-12h-56a12 12 0 00-12 12v72.61L318.47 43a48 48 0 00-61 0L4.34 251.47a12 12 0 00-1.6 16.9l25.5 31A12 12 0 0045.15 301l235.22-193.74a12.19 12.19 0 0115.3 0L530.9 301a12 12 0 0016.9-1.6l25.5-31a12 12 0 00-1.7-16.93z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://aws.amazon.com/security/" target="_blank" rel="noopener" title="aws.amazon.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M466.5 83.7l-192-80a48.15 48.15 0 00-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://twitter.com/awssecurityinfo?lang=en" target="_blank" rel="noopener" title="twitter.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://aws.amazon.com/blogs/security/" target="_blank" rel="noopener" title="aws.amazon.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M400 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM112 416c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm157.533 0h-34.335c-6.011 0-11.051-4.636-11.442-10.634-5.214-80.05-69.243-143.92-149.123-149.123-5.997-.39-10.633-5.431-10.633-11.441v-34.335c0-6.535 5.468-11.777 11.994-11.425 110.546 5.974 198.997 94.536 204.964 204.964.352 6.526-4.89 11.994-11.425 11.994zm103.027 0h-34.334c-6.161 0-11.175-4.882-11.427-11.038-5.598-136.535-115.204-246.161-251.76-251.76C68.882 152.949 64 147.935 64 141.774V107.44c0-6.454 5.338-11.664 11.787-11.432 167.83 6.025 302.21 141.191 308.205 308.205.232 6.449-4.978 11.787-11.432 11.787z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/vendor.d1f5a259.min.js"></script>
      <script src="../assets/javascripts/bundle.d5fec882.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "..",
          features: [],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.fae956e7.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>